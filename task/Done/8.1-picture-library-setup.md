# Task 8.1: Picture Library Setup

**Epic**: Epic 8: Picture Management & Selection

## Task Details

- [x] Create `/public/assets/pictures/` directory
- [x] **Note**: Repository currently includes 8 test images (arbre.svg, chat.svg, eau.svg, fleur.svg, maison.svg, manger.svg, soleil.svg, voiture.svg)
- [x] **Image discovery approach** (preferred):
- [x] **Fallback approach** (if auto-discovery not feasible):
- [x] Implement picture loading utility
- [x] Generate Picture objects from files
- [x] Extract metadata (filename, path)
- [x] Add `lastUsedTime` attribute to track usage

## File Location

Place all files for this task inside `src/pictures/` (feature folder for picture management).
Example: `src/pictures/pictureLibrary.ts`

## Completion Summary

**Date Completed**: 2026-02-24

**Work Done**:

- Created `src/pictures/` feature folder for all picture-management code.
- Created `src/pictures/pictureLibrary.ts`:
  - Defined `BUILT_IN_PICTURE_STEMS` – an alphabetically sorted list of all 8 built-in SVG stems. This list is the single source of truth; adding new images only requires adding the stem here.
  - Exported `createBuiltInPicture(stem)` helper that generates a canonical `Picture` object (`id`, `text`, `src`, `isUserAdded`) from a stem string.
  - Exported `BUILT_IN_PICTURES` – the pre-built array of all built-in `Picture` objects.
- Updated `state/store.ts` to import `createBuiltInPicture` from `pictureLibrary.ts` (removed the duplicate local implementation).
- Added `src/pictures/pictureLibrary.test.ts` with 9 tests covering stems list, `createBuiltInPicture`, and `BUILT_IN_PICTURES`.

**Notes**:

- Auto-discovery via `import.meta.glob` is not applicable to files in `public/` (Vite does not process them). The fallback approach (explicit stem list) is used instead, as documented in `plan.md`.
- When the library grows to thousands of images, a build-time manifest-generation script can replace the `BUILT_IN_PICTURE_STEMS` list.
