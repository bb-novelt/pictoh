# Task 6.2: Create New Page Dialog

**Epic**: Epic 6: Edit Mode & Configuration

## Task Details

- [x] Create `CreatePageDialog` component
- [x] Use MUI Dialog component
- [x] Add text input for page name
- [x] Validate page name (unique, not empty)
- [x] Create page and navigate on submit
- [x] Handle cancel action
- [x] Show error messages for validation

## File Location

Place all files for this task inside `src/editMode/` (feature folder for edit mode).
Example: `src/editMode/CreatePageDialog.tsx`

## Completion Summary

**Date Completed**: 2026-02-24

**Work Done**:

- Created `apps/pictho-app/src/editMode/CreatePageDialog.tsx` using MUI `Dialog`, `DialogTitle`, `DialogContent`, `DialogActions`, `TextField`, and `Button`
- Validation:
  - Empty name → shows "Le nom de la page ne peut pas être vide."
  - Duplicate name (case-insensitive) → shows "Une page avec ce nom existe déjà."
  - Error is cleared as the user types
- On confirm: calls `createPage(trimmed, true)` to create the page and navigate to it immediately, then closes the dialog and resets the field
- On cancel (button or backdrop click): closes the dialog and resets state
- Supports pressing Enter in the text field to submit
- Exported `CreatePageDialog` from `editMode/index.ts`
- Updated `app/app.tsx` to:
  - Import `CreatePageDialog`
  - Add `createPageOpen` boolean state
  - Pass `onCreatePage={() => setCreatePageOpen(true)}` to `EditModeToolbar`
  - Render `<CreatePageDialog open={createPageOpen} onClose={...} />` outside the layout box so the Dialog is always mounted (MUI manages visibility via `open` prop)
