# Task 8.6: User-Added Pictures Support

**Epic**: Epic 8: Picture Management & Selection

## Task Details

- [x] Allow users to upload/add custom pictures (not from built-in library)
- [x] Store user-added pictures separately from built-in library
- [x] Implement picture upload functionality in picture selection dialog
- [x] Cache user-added pictures immediately for offline use
- [x] Track user-added pictures with `lastUsedTime`
- [x] Apply same 50-picture limit across built-in + user-added
- [x] Persist user-added picture references in localStorage
- [x] Include in search/filter functionality

## File Location

Place all files for this task inside `src/pictures/` (feature folder for picture management).

## Completion Summary

**Date Completed**: 2026-02-24

**Work Done**:

- `PictureSelector` has an "Ajouter" upload button that opens a hidden `<input type="file" accept="image/*">`
- On file selection: reads as data URL → calls `pictureService.addUserPicture(id, text, src)` → calls `cacheUserPicture(src)` for immediate service worker caching → auto-selects the new picture
- User-added pictures are stored separately in `pictureService.userAddedPictures` and surfaced via the "Mes images" filter toggle
- The same 50-picture limit and `lastUsedTime` tracking apply to both built-in and user-added pictures
- Search and filter work across both picture sources

**Notes**:

- Persistence of user-added picture references to localStorage will be addressed in Epic 9 (storage service)
