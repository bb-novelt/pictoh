# Task 7.3: Page Deletion

**Epic**: Epic 7: Page Management System

## Task Details

- [x] Implement `deletePage(pageId)` function - delete by ID
- [x] Prevent deletion of Home page (check `homePageId`)
- [x] Show confirmation dialog
- [x] Remove page from state
- [x] Navigate to Home if deleting current page
- [x] Update any squares pointing to deleted page (clear `openPageId`)
- [x] Persist changes

## Completion Summary

**Date Completed**: 2026-02-24

**Work Done**:

- `deletePage(pageId)` in `src/state/actions/pageActions.ts` now iterates all pages and clears `square.openPageId` for any square pointing to the deleted page before removing it.
- Home page deletion is still blocked (checks `store.homePageId`).
- `ManagePagesDialog` shows a confirmation dialog before calling `deletePage`.
- Auto-navigation to home when the current page is deleted was already implemented.
- Persistence is deferred to task 9.2.

**Notes**:

- Added unit test `clears openPageId from squares pointing to the deleted page` in `pageActions.test.ts`.
