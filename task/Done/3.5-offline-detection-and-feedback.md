# Task 3.5: Offline Detection & Feedback

**Epic**: Epic 3: Offline-First Architecture

## Task Details

- [x] Implement online/offline detection
- [x] Show offline indicator in UI (optional, subtle)
- [x] Ensure all features work offline after first launch
- [x] Test full offline functionality

## Completion Summary

**Date Completed**: 2026-02-20

**Work Done**:

- Created `apps/pictho-app/src/hooks/useOnlineStatus.ts` — a custom React hook that
  reads `navigator.onLine` as its initial value and subscribes to the `online` /
  `offline` window events to stay in sync with the network state.
- Created `apps/pictho-app/src/components/OfflineIndicator.tsx` — a subtle fixed-
  position MUI `Chip` displayed in the bottom-right corner only when the device is
  offline. It shows a Wi-Fi-off icon and the label "Hors ligne". Renders nothing when
  the device is online.
- Updated `apps/pictho-app/src/app/app.tsx` to render `<OfflineIndicator />` inside
  the main app view (after the first-launch loader has completed).

**Notes**:

- All features already work offline after the first launch thanks to the service worker
  and caching strategy implemented in Tasks 3.1–3.4. This task adds only the detection
  and UI feedback layer.
- The indicator is intentionally minimal and non-intrusive (fixed bottom-right, small
  size, semi-transparent background) as required by the spec ("optional, subtle").
- Build, lint, and format checks all pass.
